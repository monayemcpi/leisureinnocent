function verifyOTPbilling(e){(2==e?document.getElementById("dig_billing_signupwithpassword"):document.getElementById("dig_billing_validate_button")).click()}jQuery((function(){var e=0,i=jQuery("#dig_reg_wp_elem");i.length&&((i=i.closest("form")).hasClass("dokan-vendor-register")||(0===i.find(".dig_wc_reg_form_end").length?(i.addClass("wp_reg"),i.find("#user_login").attr("id","user_uname"),jQuery(".digits_register").removeClass("wp_reg")):i.find(".dig_wp_bp_fields").remove()));var t=jQuery("#dig_login_wp_elem");t.length&&dig_mdet.login_mobile_accept>0&&(0===(t=t.closest("form")).find(".loginuname").length?(t.addClass("wp_login"),t.find("input[type='text']").first().attr({id:"username",nan:1})):t.find(".dig_bb_wp_otp_field").remove());var r=0;if(jQuery("#digit_emailaddress").closest("form").addClass("register"),jQuery("#wc_code_dig").closest("form").addClass("login"),jQuery("#digits_wc_code").closest("form").addClass("woocommerce-ResetPassword"),1!=dig_log_obj.dig_dsb){var d,o,n=jQuery(".dig_load_overlay"),s=jQuery("#reg_email"),a=(jQuery(".dig_wc_mailsecond"),jQuery("#dig_secHolder"),jQuery("#secondmailormobile"),jQuery("#user_login")),u=!0,c=!1;jQuery('input[id="account_email"]').each((function(e){jQuery(this).parent().find("label").find("span").remove()}));var l=dig_mdet.dig_sortorder,g=jQuery(".dig_wc_reg_form").closest(".register");if(l.length){g.find("#reg_username").closest(".form-row").attr("id","dig_cs_username").addClass("dig-custom-field"),g.find("#reg_password").closest(".form-row").attr("id","dig_cs_password").addClass("dig-custom-field"),dig_mdet.mobile_accept>0?g.find("#reg_email").parent().attr({id:"dig_cs_mobilenumber",class:"dig-custom-field woocommerce-FormRow--wide form-row form-row-wide"}):g.find("#reg_email").parent().attr({id:"dig_cs_email",class:"dig-custom-field woocommerce-FormRow--wide form-row form-row-wide"});var _=l.split(",");g.each((function(){jQuery(this).find(".dig-custom-field").sort((function(e,i){var t=jQuery.inArray(e.id,_),r=jQuery.inArray(i.id,_);return t<r?-1:t>r?1:0})).prependTo(jQuery(this))}))}var m=jQuery(".ihc-form-create-edit");if(m.length&&dig_mdet.mobile_accept>0){var p=jQuery(".iump-register-form").find("#createuser"),f=dig_mdet.uccode;p.find("input[name='phone']").attr({"data-dig-main":1,reg:2,"data-skip-label":1,id:"username",mob:1,countryCode:f,nan:1,"f-mob":1}).data("type",2),jQuery('<input type="hidden" id="dig_ihc_ea_code" name="code"/><input type="hidden" id="dig_ihc_ea_csrf" name="csrf"/><div id="dig_ihc_mobotp" class="iump-form-line-register iump-form-text" style="display:none;"><input value="" id="digits_otp_ihc" name="digit_otp" placeholder="'+dig_mdet.OTP+'" type="text" style="padding-left:10px !important;">').insertBefore(p.find("input[type='submit']").closest(".iump-submit-form"))}var y=jQuery("#wc_dig_reg_form").closest("form"),h=jQuery(".woocommerce-form-login");y.length&&(y.find('input[type="password"]').closest(".woocommerce-FormRow").remove(),y.find('input[name="login"]').remove(),y.find(".woocommerce-LostPassword").remove(),y.find("#rememberme").closest("label").remove(),y.find("#username").attr("mob",1),h.length&&(h.find('input[type="password"]').closest(".woocommerce-form-row").remove(),h.find(".form-row-first").removeClass("form-row-first"),h.find(".lost_password").remove(),h.find("#rememberme").closest("label").remove(),h.find('[name="login"]').remove(),h.find("#username").attr("mob",1)));var v=jQuery("#dig_wc_check_page");if(v.length)v=v.parent(),(ce=(ce=v.find(".create-account")).last()).length&&(ce.find("#username").attr({"f-mob":1,reg:1,"data-dig-mob":1}),2==dig_mdet.mobile_accept&&ce.find("#username").attr({"data-dig-mob":1,"data-type":2}),jQuery(".wc_check_dig_custfields").appendTo(ce));var b=!1,w=jQuery("#billing_account_password"),j=jQuery(".um-register");j.length&&j.find(".um-field-mobile_number").find("input").attr({id:"username",nan:"1","f-mob":1}).data("type",2);var Q=jQuery(".um-login");if(Q.length&&Q.find(".um-field-mobile_number").length){Q.find(".um-field-mobile_number").remove();var M=Q.find(".um-field-username");M.find("label").attr("for","username").text(dig_mdet.emailormobile),M.find("input").attr({id:"username",nan:1}),Q.find(".ump_digits_otp_container").show()}var k=jQuery(".woocommerce-ResetPassword");if(k.length){var N=k.find(".um-field-username_b");N.length&&(N.find("label").attr("for","username").text(dig_mdet.emailormobile),N.find("input").attr({id:"username",nan:1}),k.addClass("digits_um_forgotpass"))}var D=0;jQuery(".digits_um_forgotpass #um-submit-btn").on("click",(function(){oe=jQuery(this);var e=(J=jQuery(this).closest("form")).find("#username"),i=J.find(".dig_wc_logincountrycode"),t=e.val(),r=i.val();if(isNumeric(t))return 3==D?jQuery("#dig_wc_password").val()!=jQuery("#dig_wc_cpassword").val()?(showDigErrorMessage(dig_mdet.Passwordsdonotmatch),!1):(J.attr({action:"?login=true",method:"post"}),e.attr("name","user"),i.attr("name","dig_countrycodec"),J.find("#digit_ac_otp").attr("name","dig_otp"),J.unbind("submit").submit(),!0):2==D?(He(r,t,X.val(),J.find("#digit_ac_otp").val(),3),!1):(D=1,te=jQuery(this).val(),jQuery(".dig_otp_um_reg").appendTo(J.find(".um-field-text")),Ue(r,t,X.val(),3),!1)}));var C=jQuery(".woocommerce-form-login");C.length&&1==dig_mdet.login_mobile_accept&&0==dig_mdet.login_mail_accept&&0==dig_mdet.login_uname_accept&&C.find("#username").data("type",2),jQuery('input[id="username"],.digits_mobile_field').each((function(e){Se(jQuery(this))})),jQuery("#wc-pos-actions").find("#add_customer_to_register").on("click",(function(){setTimeout((function(){Se(jQuery("#username_field").find("#username"))}),100)})),jQuery(".dig_update_hidden").on("keyup change focusin",(function(){var e=jQuery(this).attr("data-dig-main"),i=jQuery(this).closest(".digcon").find("#username").val(),t=jQuery(this).val();isNumeric(i)&&i.length>0&&t.length>0&&isNumeric(t)?jQuery("#"+e).val(t+""+i):jQuery("#"+e).val("")})),jQuery("#dokan-vendor-register").find("#reg_email").addClass("no-overwrite"),jQuery(".woocommerce-EditAccountForm").find("#reg_email").addClass("no-overwrite"),jQuery('input[id="reg_email"]').each((function(e){var i=jQuery(this);if(!i.hasClass("no-overwrite")){var t,r=i.parent(),d=" <span class=required>*</span>";if(1==dig_mdet.mail_accept&&1==dig_mdet.mobile_accept)t=dig_mdet.emailormobile;else if(dig_mdet.mobile_accept>0)t=dig_mdet.MobileNumber,i.data("type","2"),i.attr("autocomplete","tel-national"),1==dig_mdet.mobile_accept&&(d=" <span class=required>("+dig_mdet.optional+")</span>");else{if(1!=dig_mdet.mail_accept)return;t=dig_mdet.email}r.children("label").html(t+d),i.attr("placeholder")&&i.attr("placeholder",t),i.wrap('<div class="digcon"></div>').before('<div class="dig_wc_countrycodecontainer dig_wc_registercountrycodecontainer"><input type="text" name="digfcountrycode" class="input-text countrycode dig_wc_registercountrycode" value="'+dig_mdet.uccode+'" maxlength="6" size="3" placeholder="'+dig_mdet.uccode+'" autocomplete="tel-country-code"/></div>'),i.on("keyup change focusin",(function(e){var t=jQuery(this).data("type");if(3!=t){var d=r.find(".dig_wc_countrycodecontainer"),o=d.find("input");isNumeric(i.val())||2==t?(d.css({display:"inline-block"}),o.trigger("keyup")):(d.hide(),jQuery(this).css({"padding-left":"0.75em"})),Be(i)}}));jQuery(this).closest("form");i.attr({type:"text"}),setTimeout((function(){i.trigger("keyup")}))}})),a.parent().children("label").html(dig_mdet.emailormobile+" <span class=required>*</span>"),jQuery('input[id="secondmailormobile"]').each((function(e){2!=dig_mdet.mail_accept&&2!=dig_mdet.mobile_accept&&(sRegMail=jQuery(this),sRegMail.addClass(),sRegMail.wrap('<div class="digcon"></div>').before('<div class="dig_wc_countrycodecontainer dig_wc_registersecondcountrycodecontainer"><input type="text" name="digsfcountrycode2" class="input-text countrycode dig_wc_registersecondcountrycode" value="'+dig_mdet.uccode+'" maxlength="6" size="3" placeholder="'+dig_mdet.uccode+'"/></div>'),sRegMail.attr("placeholder")&&sRegMail.attr("placeholder",dig_mdet.emailormobile),sRegMail.on("keyup change focusin",(function(){var e=jQuery(this).parent().find(".dig_wc_registersecondcountrycodecontainer"),i=e.find("input");isNumeric(jQuery(this).val())&&!isNumeric(s.val())?(e.css({display:"inline-block"}),i.trigger("keyup")):(e.hide(),jQuery(this).css({"padding-left":"0.75em"}))})),setTimeout((function(){sRegMail.trigger("keyup")})))})),jQuery(".dig_wc_registersecondcountrycode").on("keyup change focusin",(function(e){var i=jQuery(this),t=i.val(),r=t.length,d=i.parent().parent().find("input#secondmailormobile");++r<2&&(r=2),i.attr("size",r),0==t.trim().length&&i.val("+"),d.css({"padding-left":Ge(i.outerWidth()+15+"px")},"fast",(function(){}))})),a.attr("disabled")||(a.wrap('<div class="digcon"></div>').before('<div class="dig_wc_countrycodecontainer forgotcountrycodecontainer"><input type="text" name="dig_countrycodec" class="input-text countrycode forgotcountrycode" value="'+dig_mdet.uccode+'" maxlength="6" size="3" placeholder="'+dig_mdet.uccode+'"/></div>'),setTimeout((function(){a.trigger("keyup")}))),jQuery(".dig_wc_registercountrycode").on("keyup change focusin",(function(e){var i=jQuery(this),t=jQuery(this).val(),r=t.length,d=i.parent().parent().find("input#reg_email");++r<2&&(r=2),i.attr("size",r),0==t.trim().length&&i.val("+"),d.css({"padding-left":Ge(i.outerWidth()+15+"px")},"fast",(function(){})),Be(d)})),a.on("keyup change focusin",(function(e){isNumeric(jQuery(this).val())?(jQuery(".forgotcountrycodecontainer").css({display:"inline-block"}),jQuery(".forgotcountrycode").trigger("keyup")):(jQuery(".forgotcountrycodecontainer").hide(),jQuery(this).css({"padding-left":"0.75em"}))})),jQuery(".forgotcountrycode").on("keyup change focusin",(function(e){var i=jQuery(this).val().length;++i<2&&(i=2),jQuery(this).attr("size",i),0==jQuery(this).val().trim().length&&jQuery(this).val("+"),a.css({"padding-left":Ge(jQuery(".forgotcountrycode").outerWidth(!0)+15+"px")},"fast",(function(){}))}));var x=!1,E=0;jQuery(document).on("keyup",".dig_wc_logincountrycode",(function(e){var i=jQuery(this),t=i.val(),r=t.length,d=i.parent().parent(),o=d.find("#username");o.length&&o||(o=d.find(".digits_mobile_field")),++r<2&&(r=2),i.attr("size",r),0==t.trim().length&&i.val("+"),o.attr("style","padding-left:"+Ge(i.outerWidth()+15+"px !important;")),ze(o)}));jQuery(".login .inline").each((function(){jQuery(this).closest("form").find(".woocommerce-LostPassword").prepend(jQuery(this))}));var q=0,P=0;g.find("input").on("focusout",(function(){1!=P&&(g.find("input[type='submit']").each((function(){jQuery(this).removeAttr("disabled").removeClass("disabled")})),P=0)}));var A=0,T=0;jQuery(".woocommerce-ResetPassword input").on("focusin",(function(){1!=A&&(jQuery(".woocommerce-ResetPassword input[type='submit']").each((function(){jQuery(this).removeAttr("disabled").removeClass("disabled")})),A=1)})).on("focusout",(function(){1!=T&&(jQuery(".woocommerce-ResetPassword input[type='submit']").each((function(){jQuery(this).removeAttr("disabled").removeClass("disabled")})),T=1)}));var I,R=0;jQuery("form.login input").on("focusout",(function(){1==R&&(jQuery("form.login input[type='submit']").each((function(){jQuery(this).removeAttr("disabled").removeClass("disabled")})),R=0)}));var O,W,S,z=0;2!=dig_mdet.pass_accept&&dig_mdet.mobile_accept>0&&g.find('input[id="reg_password"]').each((function(){jQuery(this).closest(".woocommerce-form-row").hide()})),g.find(".woocommerce-Button, button[name='register']").each((function(){"register"==jQuery(this).attr("name")&&(jQuery(this).hasClass("otp_reg_dig_wc")||jQuery(".otp_reg_dig_wc").length&&jQuery(this).val(dig_mdet.RegisterWithPassword).text(dig_mdet.RegisterWithPassword).addClass("wc_reg_pass_btn"))})),g.off(),jQuery("#reg_password").on("change",(function(){jQuery(this).closest("form").find("[type='submit']").removeAttr("disabled")})),g.find(".woocommerce-Button, button[name='register']").on("click",(function(e){if(1==q)return!0;I=jQuery(this).closest("form");var i=jQuery.trim(I.find("#reg_email").val()),t=jQuery.trim(I.find("#secondmailormobile").val());if(jQuery(this).hasClass("otp_reg_dig_whatsapp")&&(r=1,W=-1,S=2),jQuery(".dig_otp_submit_button").removeClass("dig_otp_submit_button"),jQuery(this).addClass("dig_otp_submit_button"),jQuery(this).hasClass("otp_reg_dig_wc")){if(!isNumeric(i)&&!isNumeric(t))return showDigNoticeMessage(dig_mdet.Thisfeaturesonlyworkswithmobilenumber),!1;I.find(".wc_reg_pass_btn").hide(),I.find("#_wpnonce").parent().find("input[type='submit']").remove()}else if(0==z&&!I.find("#reg_billing_otp").is(":visible")){z=1;var d=I.find("#reg_password").closest(".woocommerce-form-row");if("none"==d.css("display"))return I.find(".otp_reg_dig_wc").hide(),d.show(),!1}})),g.on("submit",(function(e){if(hideDigMessage(),1==q)return!0;I=jQuery(this),oe=g.find(".woocommerce-Button");var i=jQuery.trim(I.find("#reg_email").val()),t=jQuery.trim(I.find("#secondmailormobile").val()),r=I.find("#reg_password");if(r.length>0){var d=r.val();if(1==dig_mdet.strong_pass&&(2==dig_mdet.pass_accept||d.length>0))try{var o=wp.passwordStrength.meter(d,["black","listed","word"],d);if(null!=o&&o<3)return showDigNoticeMessage(dig_mdet.useStrongPasswordString),!1}catch(e){}}if(!Xe(I))return!1;if(0==dig_mdet.mobile_accept&&0==dig_mdet.mail_accept)return!0;if(r.length>0){var n=r.val();if(!jQuery(this).hasClass("otp_reg_dig_wc")&&r.is(":visible")&&0==n.length)return showDigErrorMessage(dig_mdet.invalidpassword),!1;if(0==n.length&&Le(i)&&Le(t)&&!isNumeric(i)&&!isNumeric(t))return showDigNoticeMessage(dig_mdet.eitherentermoborusepass),!1}if(Le(i)&&Le(t)&&t.length>0)return showDigErrorMessage(dig_mdet.InvalidMobileNumber),!1;if(isNumeric(i)&&isNumeric(t)&&t.length>0)return showDigErrorMessage(dig_mdet.InvalidEmail),!1;var s=I.find(".dig_reg_mail");if(Le(i)?s.val(i):Le(t)&&s.val(t),2==dig_mdet.mail_accept&&!Le(s.val()))return showDigErrorMessage(dig_mdet.InvalidEmail),!1;if(2==dig_mdet.mobile_accept&&!isNumeric(i)&&!isNumeric(t))return showDigErrorMessage(dig_mdet.InvalidMobileNumber),!1;var a=jQuery("#reg_billing_otp");return 1==V?isNumeric(i)?(He(I.find(".dig_wc_registercountrycode").val(),i,X.val(),a.val(),2),!1):!!isNumeric(t)&&(He(I.find(".dig_wc_registersecondcountrycode").val(),t,X.val(),a.val(),2),!1):(I.find("#reg_username").length&&(B=I.find("#reg_username").val()),I.find(".dig-custom-field-type-captcha").length&&(U=I.find(".dig-custom-field-type-captcha").find("input[type='text']").val(),F=I.find(".dig-custom-field-type-captcha").find(".dig_captcha_ses").val()),"registerWooCallBack",isNumeric(i)?(L=t,Ue(I.find(".dig_wc_registercountrycode").val(),i,X.val(),2),L=i,!1):isNumeric(t)?(Ue(I.find(".dig_wc_registersecondcountrycode").val(),t,X.val(),2),!1):void 0)}));var B="",L="",U="",F="",H=0;n.on("click",(function(){b&&n.hide()}));var J,V=0,$=0,G=0,K=0;t.on("submit",(function(){if(1==$)return jQuery(".dig_wc_mobileLogin").first().trigger("click"),!1}));var X=jQuery(".dig_nounce");jQuery(document).on("click",".dig_wc_mobileLogin",(function(){oe=jQuery(this);var e=(J=jQuery(this).closest("form")).find(".countrycode").val();if(J.find("#username").length>0)var i=J.find("#username").val();else i=J.find("#user_login").val();if(jQuery(".dig_otp_submit_button").removeClass("dig_otp_submit_button"),jQuery(this).addClass("dig_otp_submit_button"),""==i||""==e)return showDigErrorMessage(dig_mdet.InvalidMobileNumber),!1;jQuery("#dig_wc_log_otp");return 1==dig_mdet.captcha_accept&&null!=(U=J.find("input[name='digits_reg_logincaptcha']").val())&&(F=J.find(".dig-custom-field-type-captcha").find(".dig_captcha_ses").val(),0==U.length)?(showDigErrorMessage("Please enter a valid captcha!"),!1):isNumeric(e)&&isNumeric(i)?1==$?(He(e,i,X.val(),J.find("#dig_wc_log_otp").val(),1),!1):(isNumeric(i)&&("loginCallback",Ue(e,i,X.val(),1)),!1):(null!=J.find("input[type='password']").val()&&showDigErrorMessage(dig_mdet.InvalidMobileNumber),!1)}));var Y,Z,ee,ie=0,te=-1;jQuery("form.lost_reset_password input[type='submit'],form.lost_reset_password button[type='submit']").on("click",(function(){if(oe=jQuery(this),-1==te&&(te=jQuery(this).is(":input")?jQuery(this).val():jQuery(this).text()),1==e)return jQuery("#dig_wc_password").val()==jQuery("#dig_wc_cpassword").val()||(showDigErrorMessage(dig_mdet.Passwordsdonotmatch),!1);var i=a.val(),t=jQuery("form.lost_reset_password .forgotcountrycode").val(),r=jQuery("#digit_forgot_otp");return 1==G?(He(t,i,X.val(),r.val(),3),!1):isNumeric(i)?(jQuery("form.lost_reset_password").attr("action",window.location.pathname+"?login=true"),"forgotPasswordCallBack",Ue(t,i,X.val(),3),!1):(jQuery("form.lost_reset_password").removeAttr("action"),!0)}));var re=0;jQuery("form.woocommerce-EditAccountForm input[type='submit'],form.woocommerce-EditAccountForm button[type='submit']").on("click",(function(){if(oe=jQuery(this),1==re)return!0;var e=jQuery(this).closest("form"),i=e.find("#dig_wc_cur_phone").val(),t=e.find(".dig_wc_nw_phone").val(),r=e.find(".dig_wc_logincountrycode").val();if(0==t.length)return!0;if(i==t)return!0;if(isNumeric(t)){var d=jQuery("#digit_ac_otp");if(1==K)return He(r,t,X.val(),d.val(),11),!1;"updateAccountCallback",Ue(r,t,X.val(),11)}else showDigErrorMessage(dig_mdet.InvalidMobileNumber);return!1}));var de=0;jQuery(document).on("keyup",".digits-edit-phone_field input",(function(){var e=jQuery(this).closest("form"),i=e.find(".mobile_number").val(),t=e.find(".dig_wc_logincountrycode").val()+i,r=e.find(".dig_cur_phone").val();0==i.length||r==t?e.find(".digits_update_mobile_submit").attr("disabled","disabled"):e.find(".digits_update_mobile_submit").removeAttr("disabled")})),jQuery("form#your-profile input[type='submit'],.digits_update_mobile_submit").on("click",(function(){de=1,oe=jQuery(this);var e=(I=jQuery(this).closest("form")).find(".digits_update_mobile");if(1==ie)return!0;if(1==dig_mdet.verify_mobile||e.length){var i=I.find(".mobile_number").val(),t=I.find(".dig_wc_logincountrycode").val(),r=t+i,d=I.find(".dig_cur_phone").val();if(0==i.length||d==r)return!e.length;var o=I.find(".digits_otp_field");if(isNumeric(i)){if(1==K)return He(t,i,X.val(),o.val(),11),!1;"updateProfileCallback",Ue(t,i,X.val(),11)}else showDigErrorMessage(dig_mdet.InvalidMobileNumber);return!1}return!e.length&&void 0})),jQuery(document).on("click","#dig_man_resend_otp_btn",(function(){var e=jQuery(this);jQuery(this).hasClass("dig_resendotp_disabled")||(n.show(),jQuery.ajax({type:"post",url:dig_mdet.ajax_url,data:{action:"digits_resendotp",countrycode:e.attr("countrycode"),mobileNo:e.attr("mob"),csrf:e.attr("csrf"),login:e.attr("dtype"),whatsapp:r},success:function(i){i=i.trim(),n.hide(),0==i?showDigNoticeMessage(dig_mdet.Pleasetryagain):-99==i?showDigErrorMessage(dig_mdet.invalidcountrycode):Ve(e)}}))}));var oe,ne,se=dig_mdet.resendOtpTime,ae=0;if(jQuery("#dig_wc_check_page").length&&1==dig_mdet.mob_verify_checkout&&dig_mdet.mobile_accept>0){jQuery("#dig_billing_otp").closest("p").hide();var ue=jQuery(".woocommerce-checkout"),ce=ue.find(".create-account").last();jQuery(document).on("change","#createaccount",(function(){ce.find(".digcon #username").trigger("keyup")}));var le="<input type='submit' class='dig_billing_otp_signup' onclick='verifyOTPbilling(1);return false;' value='"+dig_mdet.verifymobilenumber+"'/>";w.length&&1==dig_mdet.pass_accept||ue.attr("data-show-btn","dig_billing_otp_signup"),2==dig_mdet.mobile_accept&&jQuery(".dig_billing_otp_signup").show(),jQuery(".create-account #username").on("keyup",(function(){var e=jQuery(this).val(),i=Ke(e);isNumeric(i)||2==dig_mdet.mobile_accept?jQuery(".dig_billing_otp_signup").show():(jQuery(".dig_billing_otp_signup").hide(),1==dig_mdet.pass_accept&&1==dig_mdet.mobile_accept&&1==dig_mdet.mail_accept&&(Le(e)?jQuery("#billing_account_password_field").find(".optional").hide():jQuery("#billing_account_password_field").find(".optional").show()))})),ce.append("<div class='dig_billing_wc_dv'>"+le+'</div><div  class="dig_resendotp dig_wcbil_bill_resend" id="dig_man_resend_otp_btn" dis="1">'+dig_mdet.resendOTP+" <span>(00:<span>30</span>)</span></div><a id='dig_billing_validate_button' style='display:none;'></a><a id='dig_billing_signupwithpassword' style='display:none;'></a><br /> ");w.length&&2!=dig_mdet.pass_accept&&(jQuery("#dig_billing_password_field").hide(),jQuery("#dig_billing_signupwithpassword").on("click",(function(){jQuery("#digorbilling").hide(),jQuery("#dig_billing_pass_btn").hide(),jQuery("#dig_billing_password_field").show()}))),jQuery(".woocommerce-checkout #dig_billing_otp").on("keyup",(function(e){o=jQuery(this),u=!1;var i=jQuery(this).closest("form"),t=jQuery(this).val();if(ne=i.find("#username"),I=i,c=!0,!jQuery(this).attr("readonly")){if(null==t||0==t.length)return!1;if(1==H&&6!=t.length)return!1;if(1!=H&&t.length!=dig_mdet.otp_l)return!1;d=i,ei(10,o);var r=ne.val();He(i.find(".dig_wc_logincountrycode").val(),r,X.val(),t,2)}})),jQuery("#dig_billing_validate_button").on("click",(function(){oe=jQuery(this),ae=1;var e=jQuery(this).closest("form");ne=e.find("#username");var i=!1;if(e.find("input").each((function(){var e=jQuery(this),t=e.val();if(e.is(":visible")&&0==t.length&&jQuery(this).closest(".form-row").hasClass("validate-required"))return i=!0,!0})),!Xe(ce)||i)return showDigNoticeMessage(dig_mdet.fillAllDetails),!1;if(jQuery(".dig_opt_mult_con_tac").find(".dig_input_error").length)return showDigErrorMessage(dig_mdet.accepttac),!1;if(0==dig_log_obj.mobile_accept&&0==dig_log_obj.mail_accept)return!0;var t=ne.val(),r=e.find(".dig_wc_logincountrycode").val();if(!isNumeric(t)&&2!=dig_mdet.mobile_accept)return showDigErrorMessage(dig_mdet.InvalidMobileNumber),!1;if(!isNumeric(t))return showDigErrorMessage(dig_mdet.InvalidMobileNumber),!1;jQuery("#dig_billing_otp");"updateCheckoutDetails",Ue(r,t,X.val(),2)}))}var ge=jQuery("#ihc_login_form"),_e=window.location.href;if(_e=_e.substring(0,_e.indexOf("?")),ge.length&&dig_mdet.login_mobile_accept>0){var me=ge.find("#iump_login_username");ge.find("#iump_login_password");me.attr("placeholder",dig_mdet.UsernameMobileno);var pe=dig_mdet.uccode;ge.find("input[type='hidden']").val(dig_mdet.nonce).attr("name","dig_nounce"),ge.append("<input type='hidden' value='true' name='isimpc' />"),me.wrap('<div class="digcon"></div>').before('<div class="dig_ihc_countrycodecontainer dig_ihc_logincountrycodecontainer" style="display: none;"><input type="text" name="countrycode" class="input-text countrycode dig_ihc_logincountrycode" value="'+pe+'" maxlength="6" size="3" placeholder="'+pe+'" style="position: absolute;top:0;"/></div>'),me.on("keyup change focusin",(function(e){isNumeric(jQuery(this).val())?(jQuery(".dig_ihc_logincountrycodecontainer").css({display:"inline-block"}),jQuery(this).attr("style","padding-left:"+Ge(jQuery(".dig_ihc_logincountrycode").outerWidth(!0)+10+"px !important"))):(jQuery(".dig_ihc_logincountrycodecontainer").hide(),jQuery(this).removeAttr("style"))})),jQuery('<div class="impu-form-line-fr impu-dig-otp" id="impu-dig-otp" style="display: none;"><input value="" id="digits_otp_ihc" name="digit_otp" placeholder="'+dig_mdet.OTP+'" type="text" style="padding-left:10px !important;">').insertBefore("#ihc_login_form .impu-form-submit"),jQuery(".dig_ihc_logincountrycode").on("keyup change focusin",(function(e){var i=jQuery(this).val().length;++i<2&&(i=2),jQuery(this).attr("size",i),0==jQuery(this).val().trim().length&&jQuery(this).val("+"),me.attr("style","padding-left:"+Ge(jQuery(".dig_ihc_logincountrycode").outerWidth(!0)+10+"px !important"))})),jQuery("#ihc_login_form").off("submit");var fe=0;jQuery(document).on("click","#impu_log_submit",(function(){return oe=jQuery(this),J=jQuery(this).closest("form"),1==ye?(He(jQuery(".dig_ihc_logincountrycode").val(),me.val(),dig_mdet.nonce,jQuery("#digits_otp_ihc").val(),1),!1):(isNumeric(me.val())&&(he=1,"loginCallback",Ue(jQuery(".dig_ihc_logincountrycode").val(),me.val(),dig_mdet.nonce,1),0==fe&&(fe=1,ge.find("#digorimp").hide(),ge.find(".impu-form-submit").find("input:first").remove(),ge.find("div").each((function(e){e>1&&(jQuery(this).hasClass("impu-form-submit")||jQuery(this).hasClass("dig_ihc_logincountrycodecontainer")||jQuery(this).hasClass("impu-dig-otp")||jQuery(this).hide())})))),!1)})),dig_mdet.login_otp_accept>0&&ge.find(".impu-form-submit").append("<div id='digorimp'> "+dig_mdet.or+"<br /><br /></div><input type='submit' id='impu_log_submit' value='"+dig_mdet.loginwithotp+"' /><div class='dig_resendotp dig_impu_login_resend' id='dig_man_resend_otp_btn' dis='1'>"+dig_mdet.resendOTP+" <span>(00:<span>30</span>)</span></div></div>")}var ye=0,he=0,ve=jQuery(".ihc-pass-form-wrap"),be=ve.find("input[type='hidden']"),we=0,je=0;if("reset_pass"==be.val()&&dig_mdet.forgot_pass>0){var Qe=ve.find("form"),Me=Qe.find("input[type='submit']");jQuery("<div class='dig_resendotp dig_impu_forg_resend' id='dig_man_resend_otp_btn' dis='1'>"+dig_mdet.resendOTP+" <span>(00:<span>30</span>)</span></div>").insertAfter(Me),Qe.append("<input type='hidden' name='dig_nounce' value='"+dig_mdet.nonce+"' /><input type='hidden' name='ihc' value='true' />");var ke=ve.find("input[type='text']");Qe.on("submit",(function(e){if(oe=jQuery(this),2==je)return jQuery("#digits_password_ihc").val()!=jQuery("#digits_cpassword_ihc").val()?(showDigErrorMessage(dig_mdet.Passwordsdonotmatch),!1):void Qe.off("submit").submit();if(je=1,isNumeric(ke.val())){Qe.attr("action",_e+"?login=true"),ke.attr("name","forgotmail");var i=jQuery(".dig_ihc_forgotcountrycode").val();return"forgotihcCallback",0==we?Ue(i,ke.val(),dig_mdet.nonce,3):(je=1,He(i,ke.val(),dig_mdet.nonce,jQuery("#digits_otp_forg_ihc").val(),3)),!1}return ke.attr("name","email_or_userlogin"),Qe.removeAttr("action"),!0}));pe=dig_mdet.uccode;ke.wrap('<div class="digcon"></div>').before('<div class="dig_ihc_forgot_countrycodecontainer dig_ihc_forgot_logincountrycodecontainer" style="display: none;"><input type="text" name="countrycode" class="input-text countrycode dig_ihc_forgotcountrycode" value="'+pe+'" maxlength="6" size="3" placeholder="'+pe+'" style="position: absolute;top:0;"/></div>'),ke.attr("placeholder",dig_mdet.UsernameMobileno),jQuery('<div class="impu-form-line-fr" id="digits_password_ihc_cont" style="display: none;"><input value="" id="digits_password_ihc" name="digits_password" placeholder="'+dig_mdet.Password+'" type="password" style="padding-left:10px !important;"></div><div class="impu-form-line-fr" id="digits_cpassword_ihc_cont" style="display: none;"><input value="" id="digits_cpassword_ihc" name="digits_cpassword" placeholder="'+dig_mdet.ConfirmPassword+'" type="password" style="padding-left:10px !important;"></div>').insertAfter(ke.closest(".impu-form-line-fr")),jQuery('<div class="impu-form-line-fr impu-dig-otp" id="impu-dig-otp" style="display: none;"><input value="" id="digits_otp_forg_ihc" name="dig_otp" placeholder="'+dig_mdet.OTP+'" type="text" style="padding-left:10px !important;"></div>').insertAfter(ke.closest(".impu-form-line-fr")),jQuery('<input type="hidden" name="code" id="digits_impu_code"/><input type="hidden" name="csrf" id="digits_impu_csrf"/>').insertAfter(ke.closest(".impu-form-line-fr")),ke.on("keyup change focusin",(function(e){isNumeric(jQuery(this).val())?(jQuery(".dig_ihc_forgot_countrycodecontainer").css({display:"inline-block"}),jQuery(this).attr("style","padding-left:"+Ge(jQuery(".dig_ihc_forgotcountrycode").outerWidth(!0)+10+"px !important"))):(jQuery(".dig_ihc_forgot_countrycodecontainer").hide(),jQuery(this).removeAttr("style"))})),jQuery(".dig_ihc_forgotcountrycode").on("keyup change focusin",(function(e){var i=jQuery(this).val().length;++i<2&&(i=2),jQuery(this).attr("size",i),0==jQuery(this).val().trim().length&&jQuery(this).val("+"),ke.attr("style","padding-left:"+Ge(jQuery(".dig_ihc_forgotcountrycode").outerWidth(!0)+10+"px !important"))}))}jQuery(".dig_bp_enb").length&&jQuery(".dig_bp_enb").each((function(e){jQuery(this).remove()}));var Ne=0,De=0;jQuery(document).on("click","#signup_submit_pass_bp",(function(){if(1==De)return!0;De=1;var e=jQuery("#buddypress").find("form");return e.find("#dig_reg_bp_pass").show().find("input").attr("required","required"),e.find("#signup_submit_otp_bp").hide(),!1})),jQuery("#buddypress").find("#signup-form,#signup_form").addClass("signup-form"),jQuery("#buddypress .signup-form").on("submit",(function(){if(oe=jQuery(this).find('input[name="signup_submit"]'),2==Ne)return!0;Ne=1;var e=jQuery(this);d=e;var i=e.find("#username").val(),t=e.find(".dig_wc_logincountrycode").val(),r=jQuery("#dig_bp_reg_otp"),o=e.find("#signup_password").val();if(1==dig_mdet.strong_pass&&(2==dig_mdet.pass_accept||o.length>0)){var n=wp.passwordStrength.meter(o,["black","listed","word"],o);if(null!=n&&n<3)return showDigNoticeMessage(dig_mdet.useStrongPasswordString),!1}if(1==Ce)He(t,i,X.val(),r.find("input").val(),2);else if(0==i.length)showDigNoticeMessage(dig_mdet.pleaseentermobormail);else if(0!=o.length||isNumeric(i))if(isNumeric(i))e.find("#signup_submit_otp_bp").is(":visible")&&e.find("#signup_submit_pass_bp").remove(),"updateRegisterDetails",Ue(t,i,X.val(),2);else{if(Le(i))return!0;showDigErrorMessage(dig_mdet.Invaliddetails)}else showDigNoticeMessage(dig_mdet.eitherentermoborusepass);return!1}));var Ce=0,xe=0,Ee=0;if(jQuery("#buddypress").find("form#settings-form").on("submit",(function(){oe=jQuery(this).find('[type="submit"]');var e=jQuery(this);d=e;var i=e.find("#username").val(),t=e.find(".dig_wc_logincountrycode").val();if(jQuery("#dig_superadmin").length)return!0;if(!isNumeric(i))return!0;if(i==e.find("#dig_bp_current_mob"))return!0;if(1==Ee){var r=jQuery("#bp_otp_dig_ea");He(t,i,X.val(),r.find("input").val(),11)}else xe=1,"updateBPAccountDetails",Ue(t,i,X.val(),11);return!1})),0!==dig_mdet.login_mobile_accept){var qe=jQuery(".wp_login");0==dig_mdet.login_mail_accept&&0==dig_mdet.login_uname_accept&&qe.find("#username").data("type",2),qe.length||(qe=jQuery(".wp-core-ui #loginform")).addClass("wp_login"),qe.length&&dig_mdet.login_otp_accept>0&&(qe.addClass("digits"),qe.find("[type='submit']").parent().append("<div class='dig_otp_block'><div class='digor'> "+dig_mdet.or+"<br /><br /></div><input type='submit' class='dig_wc_mobileLogin button button-primary button-large' id='wp_bb_log_submit' value='"+dig_mdet.loginwithotp+"' /><div class='dig_resendotp dig_wc_login_resend dig_bb_login_resend' id='dig_man_resend_otp_btn' dis='1'>"+dig_mdet.resendOTP+" <span>(00:<span>30</span>)</span></div></div></div>"))}jQuery(".wp_reg").on("submit",(function(){if(1==q)return!0;oe=jQuery(this).find("[type='submit']"),I=jQuery(this),d=I;var e=Ke(I.find("#username").val()),i=I.find(".dig_wc_logincountrycode").val();if(!Xe(I))return!1;if(0==dig_mdet.mobile_accept)return!0;if(!isNumeric(e)||!isNumeric(i)||0==i.length||0==e.length)return 0==e.length&&1==dig_mdet.mobile_accept||(showDigErrorMessage(dig_mdet.InvalidMobileNumber),!1);var t=jQuery("#reg_billing_otp");return 1==V?(He(i,e,X.val(),t.val(),2),!1):(I.find("#user_uname").length&&(B=I.find("#user_uname").val()),I.find(".dig-custom-field-type-captcha").length&&(U=I.find(".dig-custom-field-type-captcha").find("input[type='text']").val(),F=I.find(".dig-custom-field-type-captcha").find(".dig_captcha_ses").val()),L=I.find("#user_email").val(),"registerWooCallBack",Ue(i,e,X.val(),2),!1)}));var Pe=0,Ae=0;if(m.length){var Te=jQuery("#dig_ihc_mobcon");jQuery(".iump-register-form").find("#edituser").length&&dig_mdet.mobile_accept>0&&(jQuery(m).prepend(Te),jQuery(Te.find("#dig_ihc_mobotp")).insertBefore(m.find("input[type='submit']").closest(".iump-submit-form"))),jQuery(".ihc-form-create-edit input[type=submit]").on("click",(function(){oe=jQuery(this);var e=jQuery(".ihc-form-create-edit");if(1==Pe||!e.find("#username").length)return!0;var i=e.find("#username").val(),t=e.find(".dig_wc_logincountrycode").val();if(i==e.find("#dig_ihc_current_mob").val())return!0;if(isNumeric(i))if(2==Ae){var r=e.find("#dig_ihc_mobotp");He(t,i,X.val(),r.find("input").val(),11)}else"updateIHCAccountDetails",Ae=1,Ue(t,i,X.val(),11);else{if(!(i.length>0))return!0;showDigErrorMessage(dig_mdet.InvalidMobileNumber)}return!1}))}var Ie=0,Re=0;if(j.find("form").on("submit",(function(){if(oe=jQuery(this).find("#um-submit-btn"),1==Ie)return!0;var e=jQuery(this),i=e.find("#username").val(),t=e.find(".dig_wc_logincountrycode").val(),r=e.find(".dig_otp_um_reg");return!i||(e.find("#um_sub").length>0||!!Xe(e)&&(isNumeric(i)?(n.show(),i=Ke(i),"submitUMRegform",2==Re?He(t,i,X.val(),r.find("input").val(),2):(Re=1,Ue(t,i,X.val(),2)),jQuery(".um-register").find("input[type='submit']").removeAttr("disabled"),!1):(showDigErrorMessage(dig_mdet.InvalidMobileNumber),!1)))})),jQuery(".dig_um_loginviaotp").on("click",(function(){oe=jQuery(this);var e=Q.find("#username").val(),i=jQuery(".dig_nounce").val(),t=Q.find(".dig_wc_logincountrycode").val();if(""==e||""==t)return showDigErrorMessage(dig_mdet.InvalidMobileNumber),!1;var r=jQuery(".dig_otp_um_login");return isNumeric(e)&&isNumeric(e)?2==Re?(He(t,e,i,r.find("input").val(),1),!1):(isNumeric(e)?("loginCallback",Re=1,Ue(t,e,i,1)):e.length>0?showDigNoticeMessage(dig_log_obj.Thisfeaturesonlyworkswithmobilenumber):("loginCallback",Ue(t,e,i)),!1):(showDigErrorMessage(dig_mdet.InvalidMobileNumber),!1)})),jQuery("#dig_reg_mail").length>0&&""!=jQuery("#reg_email").attr("placeholder")&&null!=jQuery("#reg_email").attr("placeholder")){var Oe=jQuery("#reg_billing_first_name");Oe.attr("placeholder",jQuery.trim(Oe.parent().find("label").text())),g.find(".dig-custom-field").each((function(){var e=jQuery.trim(jQuery(this).find("label").text());e&&jQuery(this).find("input").attr("placeholder",e)}))}if(jQuery(".woocommerce-form-register .show_if_seller").length){var We=jQuery(".woocommerce-form-register");We.find("#dig_cs_name").length&&We.find("#first-name").closest(".form-row").remove(),We.find("#dig_cs_lastname").length&&We.find("#last-name").closest(".form-row").remove(),dig_mdet.mobile_accept>0&&We.find("#shop-phone").closest(".form-row").remove()}setTimeout((function(){var e=jQuery(".digits_login_form").find("#nsl-custom-login-form-2");e.length&&e.parent().append(e)}),500)}function Se(e){if(0==dig_mdet.login_mobile_accept){var i=e.attr("f-mob");if(!i||0==i)return}if(0==dig_mdet.mobile_accept&&1==(o=e.attr("reg")))return;var t,r=e,d=r.attr("data-dig-main");if(!d)if(1==e.attr("data-dig-mob"))t=e.attr("countryCode")?e.attr("countryCode"):dig_mdet.uccode;else if(1!=e.attr("mob")){var o,n=dig_mdet.emailormobile;(o=e.attr("reg"))&&0!=o?1==o&&(dig_mdet.mobile_accept>0&&dig_mdet.mail_accept>0?n=dig_mdet.emailormobile:dig_mdet.mobile_accept>0?n=dig_mdet.MobileNumber:dig_mdet.mail_accept>0&&(n=dig_mdet.email)):(o=0,dig_mdet.login_mobile_accept>0&&dig_mdet.login_mail_accept>0?n=dig_mdet.emailormobile:dig_mdet.login_mobile_accept>0?n=dig_mdet.MobileNumber:dig_mdet.login_mail_accept>0&&(n=dig_mdet.email)),2!=o&&(r.prev().html(n+" <span class=required>*</span>"),r.attr("placeholder")&&r.attr("placeholder",n)),t=dig_mdet.uccode}else r.prev().html(dig_mdet.MobileNumber+" <span class=required>*</span>"),r.attr("placeholder")&&r.attr("placeholder",dig_mdet.MobileNumber),t=e.attr("countryCode")?e.attr("countryCode"):dig_mdet.uccode;var s="",a="",u="digt_countrycode";if(e.attr("data-skip-label"))t=dig_mdet.uccode;else if(d){var c=e.attr("countryCode");t=void 0!==c?-1==c?"+":"+"+c:dig_mdet.uccode,s="dig_update_hidden ",a='data-dig-main="'+r.attr("data-dig-main")+'"',u=r.attr("data-dig-main")+"_digt_countrycode"}r.wrap('<div class="digcon"></div>').before('<div class="dig_wc_countrycodecontainer dig_wc_logincountrycodecontainer"><input type="text" autocomplete="tel-country-code" name="'+u+'" class="'+s+'input-text countrycode dig_wc_logincountrycode" value="'+t+'" maxlength="6" size="3" placeholder="'+t+'" '+a+"/></div>"),r.attr("nan")||r.attr("name","mobile/email"),r.on("keyup change focusin",(function(e){var i=jQuery(this).data("type"),t=jQuery(this).parent().find(".dig_wc_countrycodecontainer"),r=t.find("input"),d=jQuery(this).attr("data-dig-main");if(d){var o=jQuery(this).closest(".digcon").find(".dig_update_hidden"),n=jQuery(this).val(),s=o.val();isNumeric(n)&&n.length>0&&isNumeric(s)&&s.length>0?jQuery("#"+d).val(s+""+n):jQuery("#"+d).val("")}isNumeric(jQuery(this).val())||jQuery(this).attr("only-mob")||2==i?(t.css({display:"inline-block"}),r.trigger("keyup"),jQuery(this).attr("data-show-btn")&&jQuery("."+jQuery(this).attr("data-show-btn")).show()):(t.hide(),jQuery(this).attr("removeStyle")?jQuery(this).removeAttr("style"):jQuery(this).css({"padding-left":""}),jQuery(this).attr("data-show-btn")&&2!=dig_mdet.mobile_accept&&jQuery("."+jQuery(this).attr("data-show-btn")).hide()),ze(jQuery(this))})),setTimeout((function(){r.trigger("keyup")}),10)}function ze(e){var i=e.closest("form");if(isNumeric(e.val())){var t=e.parent().find(".dig_wc_countrycodecontainer").find("input");i.find("#loginuname").val(t.val()+e.val())}else i.find("#loginuname").val(e.val())}function Be(e){var i=e.val(),t=e.closest("form"),r=t.find(".dig_wc_registersecondcountrycodecontainer"),d=(e.parent(),t.find(".secondmailormobile")),o=t.find("#dig_secHolder");if(isNumeric(i)&&1!=E||2==dig_mdet.mail_accept?(E=1,o.html(dig_mdet.email),r.hide(),d.css({"padding-left":"0.75em"})):isNumeric(i)||2==E||2==dig_mdet.mobile_accept||(E=2,o.html(dig_mdet.MobileNumber),r.css({display:"inline-block"}),d.css({"padding-left":Ge(r.find(".dig_wc_registersecondcountrycode").outerWidth()+15+"px")})),2!=dig_mdet.mail_accept&&2!=dig_mdet.mobile_accept){if(""==i||0==i.length)return t.find(".dig_wc_mailsecond").stop().slideUp(),void(x=!1);if(x)return;t.find(".dig_wc_mailsecond").stop().slideDown().show(),x=!0}}function Le(e){return e.search("@")>=0&&e.search(/\./)>=0&&e.search("@")<e.split("@")[1].search(/\./)+e.search("@")}function Ue(e,i,t,d){o=null,c=!1,u=!0,O!=e||W!=i||S!=d?(b=!1,hideDigMessage(),n.show(),S!=d&&(r=0),oe.hasClass("dig_wc_mobileWhatsApp")&&(r=1),O=e,W=i,S=d,jQuery.ajax({type:"post",url:dig_mdet.ajax_url,data:{action:"digits_check_mob",countrycode:e,mobileNo:i,csrf:dig_mdet.nonce,login:d,username:B,email:L,captcha:U,captcha_ses:F,json:1,whatsapp:r},success:function(r){B="",L="",U="",F="",S=0,W=0,n.hide();var o=-1;if(Ze(r)){if(!1===r.success)return void(r.data.notice?showDigNoticeMessage(r.data.message):showDigErrorMessage(r.data.message));o=r.accountkit,H=r.firebase,r=r.code}else r=r.trim();if(-99!=r){if(-11==r){if(1==d)return void showDigNoticeMessage(dig_mdet.pleasesignupbeforelogginin);if(3==d)return void showDigErrorMessage(dig_mdet.Mobilenumbernotfound)}else if(0==r)return void showDigErrorMessage(dig_mdet.error);if(-1==r&&2==d||-1==r&&11==d)showDigErrorMessage(dig_mdet.MobileNumberalreadyinuse);else if(i=i.replace(/^0+/,""),e=e.replace(/^0+/,""),1==o)jQuery("body").addClass("dig_low_overlay"),n.show(),hideDigMessage();else if(1==H){b=!0,n.show();var s=e+i;s="+242"==e||"+225"==e?e+"0"+i:e+i;var a=window.recaptchaVerifier;firebase.auth().signInWithPhoneNumber(s,a).then((function(o){n.hide(),window.confirmationResult=o,Fe(r,e,i,t,d)})).catch((function(e){n.hide(),showDigErrorMessage(e.message)}))}else Fe(r,e,i,t,d)}else showDigErrorMessage(dig_mdet.invalidcountrycode)}})):n.hide()}function Fe(e,i,t,r,o){if(b=!1,1==o){if(1==e)if(1==he)he=0,Ve(jQuery(".dig_impu_login_resend").attr({countrycode:i,mob:t,csrf:r,dtype:o})),(n=jQuery("#impu-dig-otp")).show().find("input").attr("required","required").trigger("focus"),ye=1;else if(1==Re)Q.find(".digor").hide().remove(),Q.find(".um-row").slideUp(),Q.find(".um-col-alt").slideUp().remove(),Q.find(".um-col-alt-b").hide().remove(),jQuery(".dig_otp_um_login").fadeIn().find("input").attr("required","required").trigger("focus"),Re=2,d=Q.find("form"),Ve(jQuery(".dig_um_login_resend").attr({countrycode:i,mob:t,csrf:r,dtype:o}));else{Ve(jQuery(".dig_wc_login_resend").attr({countrycode:i,mob:t,csrf:r,dtype:o})),function(){var e=jQuery(".wp_login");if(J.hasClass("wp_login"))return J.find(".digor").remove(),J.find("input[type='password']").parent().remove(),e.children().each((function(){jQuery(this).hasClass("dig_otp_block")||0!==jQuery(this).find(".digcon").length||0!==jQuery(this).find(".dig_bb_wp_otp_field").length||jQuery(this).hide()})),J.find(".bbp-submit-wrapper").hide(),J.append(J.find(".dig_otp_block")),J.find(".dig_otp_block").addClass("dig_otp_blk"),void J.find(".bbp-remember-me").hide();J.find(".digor").remove(),J.find(".lost_password").hide(),J.find("input[type='submit']").hide(),J.find(".dig-custom-field-type-captcha").hide(),h.length&&(h.find('input[type="password"]').parent().hide(),h.find(".form-row-first").removeClass("form-row-first"),h.find("#rememberme").closest("label").hide(),h.find('[name="login"]').remove());J.find(".form-row").find("input[type='password']").each((function(e){var i=jQuery(this).closest(".form-row");1!=e&&1!=i.attr("otp")?i.remove():1==e&&i.find("label").text(dig_mdet.MobileNumber+" *")}))}(),$=1,J.find(".dig_wc_mobileLogin").not(".dig_otp_submit_button").hide(),(n=J.find("#dig_wc_log_otp_container")).slideDown().find("input").attr("required","required").trigger("focus"),jQuery("#username").closest("p").hide()}}else if(2==o){if(1==ae)Ve(jQuery(".dig_wcbil_bill_resend").attr({countrycode:i,mob:t,csrf:r,dtype:o})),1,jQuery(".dig_billing_otp_signup").hide(),(n=jQuery("#dig_billing_otp")).attr("required","required").closest("p").slideDown(),n.trigger("focus");else if(1==Ne){Ve(jQuery(".dig_wcbil_bill_resend").attr({countrycode:i,mob:t,csrf:r,dtype:o})),(n=jQuery("#dig_bp_reg_otp")).show().find("input").attr("required","required").trigger("focus"),Ce=1,Ne=0}else if(1==Re){var n=jQuery(".dig_otp_um_reg");d=j.closest("form"),n.slideDown().find("input").attr("required","required").trigger("focus"),Re=2,Ve(jQuery(".dig_um_regis_resend").attr({countrycode:i,mob:t,csrf:r,dtype:o}))}else{Ve(jQuery(".dig_wc_register_resend").attr({countrycode:i,mob:t,csrf:r,dtype:o})),I.find(".form-row").find("input[type='password']").each((function(){jQuery(this).closest(".form-row").slideUp()})),I.find(".otp_reg_dig_wc").not(".dig_otp_submit_button").hide(),(n=I.find("#reg_billing_otp_container")).slideDown().find("input").attr("required","required").trigger("focus"),V=1}}else if(3==o){if(1==je)Ve(jQuery(".dig_impu_forg_resend").attr({countrycode:i,mob:t,csrf:r,dtype:o})),(n=jQuery("#impu-dig-otp")).show().find("input").attr("required","required").trigger("focus"),we=1,je=0;else if(1==D)Ve(jQuery(".dig_um_regis_resend").attr({countrycode:i,mob:t,csrf:r,dtype:o})),jQuery(".dig_otp_um_reg").show(),D=2;else{Ve(jQuery(".dig_wc_forgot_resend").attr({countrycode:i,mob:t,csrf:r,dtype:o})),G=1,a.attr("name","forgotmail"),(n=jQuery("#digit_forgot_otp_container")).show().find("input").attr("required","required").trigger("focus")}}else if(11==o)if(1==de){n=I.find(".digits-edit-phone_otp-container");d=I,n.slideDown().find("input").attr("required","required").trigger("focus"),K=1}else if(1==xe){(n=jQuery("#bp_otp_dig_ea")).slideDown().find("input").attr("required","required").trigger("focus"),jQuery("#dig_bp_ac_ea_resend").show(),Ve(jQuery(".dig_bp_ac_ea_resend").attr({countrycode:i,mob:t,csrf:r,dtype:o})),Ee=1}else if(1==Ae){n=jQuery("#dig_ihc_mobotp");d=n.closest("form"),n.slideDown().find("input").attr("required","required").trigger("focus"),Ae=2}else{Ve(jQuery(".dig_wc_acc_edit_resend").attr({countrycode:i,mob:t,csrf:r,dtype:o})),(n=jQuery("#digit_ac_otp_container")).slideDown().find("input").attr("required","required").trigger("focus"),K=1}}function He(e,i,t,r,s){b=!1,hideDigMessage(),u&&n.show(),1==H?function(e,i,t,r,s){if(i=i.replace(/^0+/,""),e=e.replace(/^0+/,""),null==r||0==r.length)return n.hide(),void showDigErrorMessage(dig_mdet.InvalidOTP);window.confirmationResult.confirm(r).then((function(o){firebase.auth().currentUser.getIdToken(!0).then((function(o){window.verifyingCode=!1,window.confirmationResult=null,jQuery("#dig_ftok_fbase").remove(),d.append("<input type='hidden' name='dig_ftoken' value='"+o+"' id='dig_ftok_fbase' />"),Je(e,i,t,r,s,o)})).catch((function(e){n.hide(),showDigErrorMessage(e)}))})).catch((function(e){n.hide(),u&&showDigErrorMessage(dig_mdet.InvalidOTP),ei(0,o)}))}(e,i,t,r,s):Je(e,i,t,r,s,-1)}function Je(i,t,r,d,s,l){if(Y!=i||Z!=t||ee!=d){Y=i,Z=t,ee=d;var g=0;jQuery("#rememberme").length&&(g=jQuery("#rememberme:checked").length>0),jQuery.ajax({type:"post",url:dig_mdet.ajax_url,data:{action:"digits_verifyotp_login",countrycode:i,mobileNo:t,otp:d,dig_ftoken:l,csrf:r,dtype:s,rememberMe:g},success:function(i){if(Ze(i))if(i.data){if(i.data.error_msg)return n.hide(),u&&(i.data.error_type?showDigMessage(i.data.error_msg,i.data.error_type):showDigErrorMessage(i.data.error_msg)),void ei(0,o);if(i.data.redirect)return showDigLoginSuccessMessage(),void digits_redirect(i.data.redirect);i=i.data.code}else;else i=i.trim();if(11!=i&&n.hide(),1011!=i)if(1013!=i)if(-99!=i){if(0==i)return u&&showDigErrorMessage(dig_mdet.InvalidOTP),void ei(0,o);if(11!=i)-1!=i||2==s||11==s?1==i&&2==s||1==i&&11==s?showDigErrorMessage(dig_mdet.MobileNumberalreadyinuse):2==s?1==Ce?(Ce=0,Ne=2,jQuery("#buddypress .signup-form").find("input[name='signup_submit']").click()):2==Re?(Ie=1,jQuery(".um-register").find("form").submit()):c?(ei(1,o),I.find("#dig_man_resend_otp_btn").hide()):(q=1,I.submit()):3==s?1==je?(jQuery("#digits_password_ihc_cont").show().find("input").attr("required","required"),jQuery("#digits_cpassword_ihc_cont").show().find("input").attr("required","required"),je=2):2==D?(D=3,J.find(".um-field-text").hide(),J.find("#dig_man_resend_otp_btn").hide(),J.find(".changePassword").show(),oe.val(te),oe.text(te)):(e=1,a.parent().parent().hide(),jQuery("#digit_forgot_otp_container").hide(),jQuery(".dig_wc_forgot_resend").hide(),a.attr("name","forgotmail"),jQuery("form.lost_reset_password .changePassword").show(),oe.val(te),oe.text(te)):11==s&&(1==de?(ie=1,I.find("[type='submit']").click()):1==xe?jQuery("#buddypress").find("form").off("submit").submit():2==Ae?(Pe=1,jQuery(".ihc-form-create-edit").submit()):(re=1,jQuery("form.woocommerce-EditAccountForm").submit())):showDigErrorMessage(dig_mdet.ErrorPleasetryagainlater);else if(ge.length||Re>0)document.location.href="/";else{showDigLoginSuccessMessage();var t=jQuery('input[name="redirect_to"]');t.length?digits_redirect(t.first().val()):jQuery("#digits_redirect_page").length?digits_redirect(jQuery("#digits_redirect_page").val()):digits_redirect(dig_mdet.uri)}}else showDigErrorMessage(dig_mdet.invalidcountrycode);else showDigErrorMessage(dig_mdet.error);else showDigErrorMessage(dig_mdet.error)}})}else n.hide()}function Ve(e){d=e.closest("form"),oe&&(oe.is("input")?oe.attr("value",dig_mdet.SubmitOTP):oe.text(dig_mdet.SubmitOTP)),e.attr("dis",1).addClass("dig_resendotp_disabled").show().find("span").show();var i=e.find("span");i.text($e(se));var t=0,r=setInterval((function(){var d=se-t;i.text($e(d)),++t>=se&&(clearInterval(r),e.removeAttr("dis").removeClass("dig_resendotp_disabled").find("span").hide(),t=0)}),1e3,!0)}function $e(e){var i=parseInt(e,10),t=Math.floor(i/3600),r=Math.floor((i-3600*t)/60),d=i-3600*t-60*r;return r<10&&(r="0"+r),d<10&&(d="0"+d),"("+r+":"+d+")"}function Ge(e){return 1==dig_mdet.dig_hide_ccode?"0.75em":e}function Ke(e){return e.replace(/^0+/,"")}function Xe(e){var i=!1;return e.attr("wait")?(showDigNoticeMessage(e.attr("wait")),!1):e.attr("error")?(showDigErrorMessage(e.attr("error")),!1):(e.find("input,textarea,select").each((function(){if(jQuery(this).attr("required")&&jQuery(this).is(":visible")||jQuery(this).attr("data-req")){var e=jQuery(this),t=e.attr("dtype");if(t&&"range"==t){var r=e.val().split("-");r[1]||(i=!0,e.val(""))}if(e.attr("date"))if("time"==t)e.val().match(/^(0?[1-9]|1[012])(:[0-5]\d) [APap][mM]$/)||(i=!0,e.val(""));else if("range"!=t){Ye(new Date(e.val()))||(i=!0,e.val(""))}else{var d=new Date(r[0]),o=new Date(r[1]);Ye(d)&&Ye(o)||(i=!0,e.val(""))}else if(e.is(":checkbox")||e.is(":radio"))e.is(":checked")||jQuery('input[name="'+e.attr("name")+'"]:checked').val()||(i=!0);else{var n=e.val();(null==n||0==n.length||-1==n&&e.is("select"))&&(i=!0,e.is("select")&&e.next().addClass("dig_input_error"),e.trigger("focus"))}}})),i?(showDigNoticeMessage(dig_mdet.fillAllDetails),!1):!e.find(".dig_opt_mult_con_tac").find(".dig_input_error").length||(showDigErrorMessage(dig_mdet.accepttac),!1))}function Ye(e){return e.getTime()==e.getTime()}function Ze(e){"string"!=typeof e&&(e=JSON.stringify(e));try{return JSON.parse(e),!0}catch(e){return!1}}function ei(e,i){if(null!=i){var t=i.parent().parent();t.find(".otp_message").remove();var r,d=!1;10==e?r="checking_otp":1==e?(d=!0,r="valid_otp",t.append('<div class="otp_message otp_valid_message">'+dig_mdet.codevalidproceedcheckout+"</div>")):r=-1==e?"":"invalid_otp",i.attr("readonly",d),t.removeClass("valid_otp invalid_otp checking_otp").addClass(r)}}}));